!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Fela=t()}(this,function(){"use strict";function e(e,t){return t={exports:{}},e(t,t.exports),t.exports}function t(e){return"@font-face{"+K(e)+"}"}function n(e,t,n){for(var r=0,o=e.length;r<o;++r)n=t(n,e[r]);return n}function r(e,t,n){for(var r in e)n=t(n,e[r],r);return n}function o(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],f=r(e,function(e,t,n){return""+e+n+"{"+K(t)+"}"},"");return n(o,function(e,n){return e+"@"+n+"keyframes "+t+"{"+f+"}"},"")}function f(e,t){return t?"@media "+e+"{"+t+"}":""}function i(e){return"k"+e}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e<=E?Q[e-1]+t:u(e/E|0,Q[e%E]+t)}function a(e,t){return 0===e.length?t:e+" and "+t}function c(e,t){return e+"{"+t+"}"}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"."+e+t}function l(e){return e.replace(/\s{2,}/g,"")}function y(e,t,r){return e.length>0?n(e,function(e,t){return e=t(e,r)},t):t}function d(e,t){if("string"==typeof e)return l(e);var n=y(t,e,W);return K(n)}function p(e,t){return"string"==typeof e?e:t?t+JSON.stringify(e):""}function m(e){return"@media"===e.substr(0,6)}function v(e){return $.test(e)}function h(e){return void 0===e||"string"==typeof e&&e.indexOf("undefined")!==-1}function b(e){return"object"===("undefined"==typeof e?"undefined":k.typeof(e))&&!Array.isArray(e)}function g(e){return"&"===e.charAt(0)?e.slice(1):e}function O(e){return n(e,function(e,t){return e[t]="",e},{})}function x(e){return'"'===e.charAt(0)?e:'"'+e+'"'}function w(e){return e.indexOf("data:")!==-1}function _(e){for(var t=0,n=G.length;t<n;++t){var r=G[t];if(e.indexOf(r)!==-1)return B[r]}if(w(e))for(var o=0,f=H.length;o<f;++o){var i=H[o];if(e.indexOf(i)!==-1)return D[i]}return""}function j(e){return w(e)?e:"'"+e+"'"}function P(e,t){for(var n=0,r=e.length;n<r;++n)t(e[n],n)}function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n={listeners:[],keyframePrefixes:e.keyframePrefixes||["-webkit-","-moz-"],plugins:e.plugins||[],mediaQueryOrder:e.mediaQueryOrder||[],selectorPrefix:e.selectorPrefix||"",fontFaces:"",keyframes:"",statics:"",rules:"",mediaRules:O(e.mediaQueryOrder||[]),uniqueRuleIdentifier:0,uniqueKeyframeIdentifier:0,cache:{},renderRule:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=y(n.plugins,e(t),J);return n._renderStyleToClassNames(r).slice(1)},renderKeyframe:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e(t),f=JSON.stringify(r);if(!n.cache.hasOwnProperty(f)){var u=i(++n.uniqueKeyframeIdentifier),a=y(n.plugins,r,z),c=o(a,u,n.keyframePrefixes);n.cache[f]=u,n.keyframes+=c,n._emitChange({name:u,keyframe:c,type:z})}return n.cache[f]},renderFont:function(e,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},f=e+JSON.stringify(o);if(!n.cache.hasOwnProperty(f)){var i=x(e),u=k.extends({},o,{src:r.map(function(e){return"url("+j(e)+") format('"+_(e)+"')"}).join(","),fontFamily:i}),a=t(u);n.cache[f]=i,n.fontFaces+=a,n._emitChange({fontFamily:i,fontFace:a,type:L})}return n.cache[f]},renderStatic:function(e,t){var r=p(e,t);if(!n.cache.hasOwnProperty(r)){var o=d(e,n.plugins);n.cache[r]="","string"==typeof e?(n.statics+=o,n._emitChange({type:W,css:o})):t&&(n.statics+=c(t,o),n._emitChange({selector:t,declaration:o,type:J,static:!0,media:""}))}},renderToString:function(){var e=n.fontFaces+n.statics+n.keyframes+n.rules;return r(n.mediaRules,function(e,t,n){return e+f(n,t)},e)},subscribe:function(e){return n.listeners.push(e),{unsubscribe:function(){return n.listeners.splice(n.listeners.indexOf(e),1)}}},clear:function(){n.fontFaces="",n.keyframes="",n.statics="",n.rules="",n.mediaRules=O(n.mediaQueryOrder),n.uniqueRuleIdentifier=0,n.uniqueKeyframeIdentifier=0,n.cache={},n._emitChange({type:Z})},_renderStyleToClassNames:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o="";for(var f in e){var i=e[f];if(b(i)){if(v(f))o+=n._renderStyleToClassNames(i,t+g(f),r);else if(m(f)){var l=a(r,f.slice(6).trim());o+=n._renderStyleToClassNames(i,t,l)}}else{var y=r+t+f+i;if(!n.cache.hasOwnProperty(y)){if(h(i)){n.cache[y]="";continue}var d=n.selectorPrefix+u(++n.uniqueRuleIdentifier);n.cache[y]=d;var p=T(f,i),O=s(d,t),x=c(O,p);r.length>0?(n.mediaRules.hasOwnProperty(r)||(n.mediaRules[r]=""),n.mediaRules[r]+=x):n.rules+=x,n._emitChange({selector:O,declaration:p,media:r,type:J})}o+=" "+n.cache[y]}}return o},_emitChange:function(e){P(n.listeners,function(t){return t(e)})}};return n.keyframePrefixes.push(""),n.clear(),e.enhancers&&P(e.enhancers,function(e){n=e(n)}),n}function S(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return n(t,function(t,n){return V(t,n(e))},{})}}function C(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return function(r){return n(t,function(e,t){return e=t(e)},e(r))}}}var k={};k.typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k.classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},k.createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),k.defineProperty=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},k.extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},k.inherits=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},k.objectWithoutProperties=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},k.possibleConstructorReturn=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},k.toConsumableArray=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)};var R=e(function(e){function t(e){return e in o?o[e]:o[e]=e.replace(n,"-$&").toLowerCase().replace(r,"-ms-")}var n=/[A-Z]/g,r=/^ms-/,o={};e.exports=t}),F=R&&"object"==typeof R&&"default"in R?R.default:R,q=e(function(e,t){function n(e){return e&&e.__esModule?e:{default:e}}function r(e){return(0,f.default)(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=F,f=n(o);e.exports=t.default}),M=q&&"object"==typeof q&&"default"in q?q.default:q,N=e(function(e,t){function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return(0,f.default)(e)+":"+t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=M,f=n(o);e.exports=t.default}),T=N&&"object"==typeof N&&"default"in N?N.default:N,I=e(function(e,t){function n(e){return e&&e.__esModule?e:{default:e}}function r(e){var t="";for(var n in e){var r=e[n];"string"!=typeof r&&"number"!=typeof r||(t&&(t+=";"),t+=(0,f.default)(n,r))}return t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=T,f=n(o);e.exports=t.default}),K=I&&"object"==typeof I&&"default"in I?I.default:I,Q="abcdefghijklmnopqrstuvwxyz",E=Q.length,J=1,z=2,L=3,W=4,Z=5,$=/^(:|\[|>|&)/,B={".woff":"woff",".eot":"eot",".ttf":"truetype",".svg":"svg"},D={"image/svg+xml":"svg","application/x-font-woff":"woff","application/font-woff":"woff","application/x-font-woff2":"woff2","application/font-woff2":"woff2","font/woff2":"woff2","application/octet-stream":"ttf","application/x-font-ttf":"ttf","application/x-font-truetype":"ttf","application/x-font-opentype":"otf","application/vnd.ms-fontobject":"eot","application/font-sfnt":"sfnt"},G=Object.keys(B),H=Object.keys(D),U=e(function(e,t){function n(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e){for(var t=arguments.length,f=Array(t>1?t-1:0),i=1;i<t;i++)f[i-1]=arguments[i];for(var u=0,a=f.length;u<a;++u){var c=f[u];for(var s in c){var l=c[s],y=e[s];if("object"===("undefined"==typeof y?"undefined":o(y))){if(Array.isArray(y)){Array.isArray(l)?e[s]=[].concat(n(y),n(l)):e[s]=[].concat(n(y),[l]);continue}if("object"===("undefined"==typeof l?"undefined":o(l))&&!Array.isArray(l)){e[s]=r({},y,l);continue}}e[s]=l}}return e}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"===k.typeof(Symbol.iterator)?function(e){return"undefined"==typeof e?"undefined":k.typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":"undefined"==typeof e?"undefined":k.typeof(e)};t.default=r,e.exports=t.default}),V=U&&"object"==typeof U&&"default"in U?U.default:U,X={createRenderer:A,combineRules:S,enhance:C};return X});