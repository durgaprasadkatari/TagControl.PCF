!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):e.ReactFela=t(e.React)}(this,function(e){"use strict";function t(e,t){return t={exports:{}},e(t,t.exports),t.exports}function n(e,t){return function(n){if(n.type!==w||n.media)t.textContent=e.renderToString();else try{t.sheet.insertRule(n.selector+"{"+n.declaration+"}",t.sheet.cssRules.length)}catch(e){}}}function r(e){return e&&1===e.nodeType}function o(e,t){if(!r(t))throw new Error("You need to specify a valid element node (nodeType = 1) to render into.");t.setAttribute("data-fela-stylesheet","");var o=n(e,t);e.subscribe(o);var i=e.renderToString();t.textContent!==i&&(t.textContent=i)}function i(e){var t=e.displayName||e.name;return t?"Fela"+t:"ConnectedFelaComponent"}function u(e,t,n){return function(r){return function(o){var u=function(e){function n(){return p.classCallCheck(this,n),p.possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return p.inherits(n,e),p.createClass(n,[{key:"render",value:function(){var e=this.context,n=e.renderer,i=e.theme,u=r(p.extends({},this.props,{theme:i||{}}))(n);return t(o,p.extends({},this.props,{styles:u}))}}]),n}(e);return u.displayName=i(o),n&&(u.contextTypes=p.extends({},o.contextTypes,n)),u}}}function a(e,t,n){for(var r=0,o=e.length;r<o;++r)n=t(n,e[r]);return n}function f(e,t){return a(e,function(e,n){return e[n]=t[n],e},{})}function c(e,t){return"function"==typeof e?Object.keys(e(t)):e}function s(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return a(t,function(t,n){return k(t,n(e))},{})}}function l(e,t){return function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"div",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=function(t,i){var u=i.renderer,a=i.theme,l=t.children,y=t._felaRule,d=t.passThrough,h=void 0===d?[]:d,v=p.objectWithoutProperties(t,["children","_felaRule","passThrough"]);if(!u)throw new Error("createComponent() can't render styles without the renderer in the context. Missing react-fela's <Provider /> at the app root?");var b=y?s(n,y):n,m=[].concat(p.toConsumableArray(c(o,v)),p.toConsumableArray(c(h,v)));if(r._isFelaComponent)return e(r,p.extends({_felaRule:b,passThrough:m},v),l);var g=f(m,v);if(v.theme=a||{},u.isNativeRenderer){var x=u.renderRule(b,v);g.style=v.style?[v.style,x]:x}else{g.style=v.style;var j=v.className?v.className+" ":"";g.className=j+u.renderRule(b,v)}g.id=v.id,g.ref=v.innerRef;var C=v.is||r;return e(C,g,l)};return t&&(i.contextTypes=t),i.displayName=n.name?n.name:"FelaComponent",i._isFelaComponent=!0,i}}var p={};p.typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p.classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},p.createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p.defineProperty=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},p.extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.inherits=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},p.objectWithoutProperties=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},p.possibleConstructorReturn=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},p.toConsumableArray=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)};var y=t(function(e){function t(e,t,r,o,i,u,a,f){if(n(t),!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=[r,o,i,u,a,f],l=0;c=new Error(t.replace(/%s/g,function(){return s[l++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}}var n=function(e){};e.exports=t}),d=y&&"object"==typeof y&&"default"in y?y.default:y,h=t(function(e){function t(e){return function(){return e}}var n=function(){};n.thatReturns=t,n.thatReturnsFalse=t(!1),n.thatReturnsTrue=t(!0),n.thatReturnsNull=t(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n}),v=h&&"object"==typeof h&&"default"in h?h.default:h,b=t(function(e){var t=v,n=d;e.exports=function(){function e(){n(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function r(){return e}e.isRequired=e;var o={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:r,element:e,instanceOf:r,node:e,objectOf:r,oneOf:r,oneOfType:r,shape:r};return o.checkPropTypes=t,o.PropTypes=o,o}}),m=b&&"object"==typeof b&&"default"in b?b.default:b,g=t(function(e){var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=t}),x=g&&"object"==typeof g&&"default"in g?g.default:g,j=t(function(e){var t=v,n=t;e.exports=n}),C=(j&&"object"==typeof j&&"default"in j?j.default:j,t(function(e){function t(e,t,n,r,o){}e.exports=t})),T=C&&"object"==typeof C&&"default"in C?C.default:C,O=(t(function(e){var t=v,n=d,r=x,o=T;e.exports=function(e,i){function u(e){var t=e&&(w&&e[w]||e[P]);if("function"==typeof t)return t}function a(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}function f(e){this.message=e,this.stack=""}function c(e){function t(t,o,u,a,c,s,l){return a=a||A,s=s||u,l!==r&&i&&n(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types"),null==o[u]?t?new f(null===o[u]?"The "+c+" `"+s+"` is marked as required "+("in `"+a+"`, but its value is `null`."):"The "+c+" `"+s+"` is marked as required in "+("`"+a+"`, but its value is `undefined`.")):null:e(o,u,a,c,s)}var o=t.bind(null,!1);return o.isRequired=t.bind(null,!0),o}function s(e){function t(t,n,r,o,i,u){var a=t[n],c=T(a);if(c!==e){var s=O(a);return new f("Invalid "+o+" `"+i+"` of type "+("`"+s+"` supplied to `"+r+"`, expected ")+("`"+e+"`."))}return null}return c(t)}function l(){return c(t.thatReturnsNull)}function y(e){function t(t,n,o,i,u){if("function"!=typeof e)return new f("Property `"+u+"` of component `"+o+"` has invalid PropType notation inside arrayOf.");var a=t[n];if(!Array.isArray(a)){var c=T(a);return new f("Invalid "+i+" `"+u+"` of type "+("`"+c+"` supplied to `"+o+"`, expected an array."))}for(var s=0;s<a.length;s++){var l=e(a,s,o,i,u+"["+s+"]",r);if(l instanceof Error)return l}return null}return c(t)}function d(){function t(t,n,r,o,i){var u=t[n];if(!e(u)){var a=T(u);return new f("Invalid "+o+" `"+i+"` of type "+("`"+a+"` supplied to `"+r+"`, expected a single ReactElement."))}return null}return c(t)}function h(e){function t(t,n,r,o,i){if(!(t[n]instanceof e)){var u=e.name||A,a=R(t[n]);return new f("Invalid "+o+" `"+i+"` of type "+("`"+a+"` supplied to `"+r+"`, expected ")+("instance of `"+u+"`."))}return null}return c(t)}function v(e){function n(t,n,r,o,i){for(var u=t[n],c=0;c<e.length;c++)if(a(u,e[c]))return null;var s=JSON.stringify(e);return new f("Invalid "+o+" `"+i+"` of value `"+u+"` "+("supplied to `"+r+"`, expected one of "+s+"."))}return Array.isArray(e)?c(n):t.thatReturnsNull}function b(e){function t(t,n,o,i,u){if("function"!=typeof e)return new f("Property `"+u+"` of component `"+o+"` has invalid PropType notation inside objectOf.");var a=t[n],c=T(a);if("object"!==c)return new f("Invalid "+i+" `"+u+"` of type "+("`"+c+"` supplied to `"+o+"`, expected an object."));for(var s in a)if(a.hasOwnProperty(s)){var l=e(a,s,o,i,u+"."+s,r);if(l instanceof Error)return l}return null}return c(t)}function m(e){function n(t,n,o,i,u){for(var a=0;a<e.length;a++){var c=e[a];if(null==c(t,n,o,i,u,r))return null}return new f("Invalid "+i+" `"+u+"` supplied to "+("`"+o+"`."))}return Array.isArray(e)?c(n):t.thatReturnsNull}function g(){function e(e,t,n,r,o){return j(e[t])?null:new f("Invalid "+r+" `"+o+"` supplied to "+("`"+n+"`, expected a ReactNode."))}return c(e)}function x(e){function t(t,n,o,i,u){var a=t[n],c=T(a);if("object"!==c)return new f("Invalid "+i+" `"+u+"` of type `"+c+"` "+("supplied to `"+o+"`, expected `object`."));for(var s in e){var l=e[s];if(l){var p=l(a,s,o,i,u+"."+s,r);if(p)return p}}return null}return c(t)}function j(t){switch("undefined"==typeof t?"undefined":p.typeof(t)){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(j);if(null===t||e(t))return!0;var n=u(t);if(!n)return!1;var r,o=n.call(t);if(n!==t.entries){for(;!(r=o.next()).done;)if(!j(r.value))return!1}else for(;!(r=o.next()).done;){var i=r.value;if(i&&!j(i[1]))return!1}return!0;default:return!1}}function C(e,t){return"symbol"===e||("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}function T(e){var t="undefined"==typeof e?"undefined":p.typeof(e);return Array.isArray(e)?"array":e instanceof RegExp?"object":C(t,e)?"symbol":t}function O(e){var t=T(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function R(e){return e.constructor&&e.constructor.name?e.constructor.name:A}var w="function"==typeof Symbol&&Symbol.iterator,P="@@iterator",A="<<anonymous>>",_={array:s("array"),bool:s("boolean"),func:s("function"),number:s("number"),object:s("object"),string:s("string"),symbol:s("symbol"),any:l(),arrayOf:y,element:d(),instanceOf:h,node:g(),objectOf:b,oneOf:v,oneOfType:m,shape:x};return f.prototype=Error.prototype,_.checkPropTypes=o,_.PropTypes=_,_}}),t(function(e){e.exports=m()})),R=O&&"object"==typeof O&&"default"in O?O.default:O,w=1,P=function(t){function n(){return p.classCallCheck(this,n),p.possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return p.inherits(n,t),p.createClass(n,[{key:"getChildContext",value:function(){return{renderer:this.props.renderer}}},{key:"componentDidMount",value:function(){var e=this.props,t=e.mountNode,n=e.renderer;t&&o(n,t)}},{key:"render",value:function(){return e.Children.only(this.props.children)}}]),n}(e.Component);P.propTypes={renderer:R.object.isRequired},P.childContextTypes={renderer:R.object};var A=u(e.Component,e.createElement,{renderer:R.object,theme:R.object}),_=t(function(e,t){function n(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e){for(var t=arguments.length,i=Array(t>1?t-1:0),u=1;u<t;u++)i[u-1]=arguments[u];for(var a=0,f=i.length;a<f;++a){var c=i[a];for(var s in c){var l=c[s],p=e[s];if("object"===("undefined"==typeof p?"undefined":o(p))){if(Array.isArray(p)){Array.isArray(l)?e[s]=[].concat(n(p),n(l)):e[s]=[].concat(n(p),[l]);continue}if("object"===("undefined"==typeof l?"undefined":o(l))&&!Array.isArray(l)){e[s]=r({},p,l);continue}}e[s]=l}}return e}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"===p.typeof(Symbol.iterator)?function(e){return"undefined"==typeof e?"undefined":p.typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":"undefined"==typeof e?"undefined":p.typeof(e)};t.default=r,e.exports=t.default}),k=_&&"object"==typeof _&&"default"in _?_.default:_,S=l(e.createElement,{renderer:R.object,theme:R.object}),E=function(t){function n(){return p.classCallCheck(this,n),p.possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return p.inherits(n,t),p.createClass(n,[{key:"getChildContext",value:function(){var e=this.props,t=e.overwrite,n=e.theme,r=this.context.theme;return{theme:p.extends({},t?{}:r||{},n)}}},{key:"render",value:function(){return e.Children.only(this.props.children)}}]),n}(e.Component);E.propTypes={theme:R.object.isRequired,overwrite:R.bool},E.childContextTypes={theme:R.object},E.contextTypes={theme:R.object},E.defaultProps={overwrite:!1};var N={Provider:P,connect:A,createComponent:S,ThemeProvider:E};return N});